---
created: 2025-02-05 17:50
course-name: Docker & Kubernetes 실전 가이드
instructor: Maximilian Schwarzmüller
section: "섹션 2: Docker 이미지 & 컨테이너: 코어 빌딩 블록"
presentation: 
tags:
  - lecture-note
  - "#udemy"
last_modified: 2025-02-05T18:40:00
---
> 컨테이너를 실행하기 위한, 이미지를 생성하고 가져오는 방법은 2가지가 있다.
### 1. 미리 구축된 공식 이미지나 커뮤니티에서 공유한 이미지의 사용
> 해야 할 것은 시스템에서 명령 프롬프트나 터미널을 연 다음, 선택한 폴더를 탐색하여 `docker run node`를 실행하는 것이다.

- [Docker Hub](https://hub.docker.com/)
- `node`를 검색해보면 노드 애플리케이션 컨테이너를 구축하는데 사용할 수 있는 공식 노드 도커 이미지를 찾을 수 있다.
- 이 노드 이미지를 활용하여 이를 기반으로 하는 컨테이너를 생성할 것이다. (`컨테이너는 실행중인 이미지 인스턴스`)

- Docker Desktop을 실행한 상태에서,
	- `docker run node` 명령어를 입력하면 
		- 자동으로 Docker Hub로부터 최신 노드를 다운로드하고,
		- 이 이미지를 컨테이너로 실행한다.
	- `docker ps -a` 를 실행하여 도커가 생성한 모든(all) 컨테이너, 모든 프로세스가 표시된다.
```bash
# 현재 종료된 상태이며, 자동으로 설정된 이름(NAMES)도 확인할 수 있다. 
CONTAINER ID   IMAGE      COMMAND                   CREATED             STATUS                        PORTS     NAMES
f4018cf51fe4   node       "docker-entrypoint.s…"   About a minute ago   Exited (0) About a minute ago           condescending_roentgen
```

- 지금은 종료되어 더 이상 실행되지 않음을 확인할 수 있다. 
	- 컨테이너가 격리되어 실행되기 때문이다.
	- 노드 이미지를 기반으로 컨테이너를 실행했지만 이것만으로는 별 의미가 없다. 
	- 노드에 의해 노출된 인터렉티브 쉘은 컨테이너에 의해 자동으로 우리에게 노출되지 않기 때문이다.

- `docker run -it node` 명령어로 실행하면
	- 도커에게 컨테이너 내부에서 호스팅 머신으로 대화형 세션을 노출하고 싶다고 알리는 것이다.
	- 실행하면, 실제 기본 노드 명령을 실행할 수 있는 인터렉티브 노드 터미널에 들어간다.
	- 중요한 점은 노드가 생성된 컨테이너 내부에서 실행 중이며, 
		- 플래그(`-it`)를 추가하여 터미널로 들어가 컨테이너 및 컨테이너에서 실행 중인 노드와 상호작용할 수 있다는 것이다.

- 노드는 내 컴퓨터에서 실행되고 있지 않다. 
	- 위 명령어로 실행했을 때, `Welcome to Node.js v23.7.0.`라는 문구를 통해 실행되고 있는 버전을 알 수 있다.
	- 실행을 종료하고, `node -v` 명령어로 시스템에 설치된 노드의 버전은 `v20.11.1`이다.
	- 시스템에 노드를 설치할 필요가 없다는 사실도 알 수 있다.

- 이미지는 배후에서 컨테이너에 필요한 모든 논리와 모든 코드를 보관하는데 사용되며,
	- `run` 명령어를 사용하여 이미지의 인스턴스를 만든다.
		- 이것은 이미지를 기반으로하는 구체적인 컨테이너를 생성한다.
---
## 다음 강의 노트 : [[021_우리의 목표, NodeJS 앱]]
